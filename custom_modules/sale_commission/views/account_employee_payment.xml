<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- Inherit acoount payment -->
    <record id="view_account_payment_new_field_customization_form" model="ir.ui.view">
        <field name="name">account.payment.new.field.customization.form</field>
        <field name="model">account.payment</field>
        <field name="inherit_id" ref="account.view_account_payment_form" />
        <field name="arch" type="xml">
            <xpath expr="//field[@name='partner_id']" position="before">
                <field name='employee_id'/>
            </xpath>
        </field>
    </record>

    <!-- Multiple action server for employee payment  -->
    <record id="action_create_employee_payment_commission" model="ir.actions.server">
        <field name="name">Employee Payments</field>
        <field name="model_id" ref="sale_commission.model_sale_commission"/>
        <field name="binding_model_id" ref="sale_commission.model_sale_commission"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code">
            if records:
                action = records.action_create_employee_payment()
        </field>
    </record>
 
    <!-- Payment action server -->
    <record id="action_employee_payment_sale_commission" model="ir.actions.act_window">
        <field name="name">Payments</field>
        <field name="res_model">account.payment</field>
        <field name="view_mode">tree,form</field>
        <field name="context">{'default_partner_type': 'employee',
            'search_default_employee_filter': 1,'default_payment_type': 'outbound'}</field>
    </record>

    <!-- Inherit search view account payment-->
    <record id="view_account_commission_payment_search" model="ir.ui.view">
        <field name="name">account.payment.commission.search</field>
        <field name="model">account.payment</field>
        <field name="inherit_id" ref="account.view_account_payment_search"/>
        <field name="arch" type="xml">
            <xpath expr="//filter[@name='inbound_filter']" position="after">
                <separator/>
                    <filter string="Employee Payments" name="employee_filter" 
                        domain="[('partner_type', '=', 'employee')]"/>
                <separator/>
            </xpath>
        </field>
    </record>

    <!-- Empolyee Menu On accounting-->
    <menuitem id="menu_account_employee" parent="account_accountant.menu_accounting" name="Employee" />
    
    <!-- Payments Menu On accounting -->
    <menuitem id="menu_employee_payment" parent="sale_commission.menu_account_employee" name="Payments" action="action_employee_payment_sale_commission" />

</odoo>
